# Natural Language To Sql
This Project is to convert Natural Language to Sql using Gen AI Models and AWS Cloud

**Creating the AWS Glue Data Catalog using an AWS Glue crawler**:
This involves setting up the AWS Glue Data Catalog, a fully managed metadata repository, by using AWS Glue crawlers to automatically discover and catalog metadata about your data assets stored in Amazon S3.

**Storing Data in S3:**
Data is stored in Amazon S3, which serves as a highly scalable, durable, and secure object storage service provided by AWS.

**Using the Titan-Text-Embeddings model on Amazon Bedrock to convert metadata into embeddings:**
The Titan-Text-Embeddings model, likely a part of Amazon Bedrock, is utilized to convert the metadata (such as table names, column names, etc.) into embeddings. These embeddings represent the semantic meaning of the metadata.

**Storing embeddings in an Amazon OpenSearch Serverless vector store:**
The embeddings generated by the Titan-Text-Embeddings model are stored in an Amazon OpenSearch Serverless vector store. This vector store serves as the knowledge base for the RAG (Retrieve, Add, Generate) framework.

**User Query Entry via Simple Web Application with Chat UI:**
A simple web application with a chat user interface is designed to allow users to enter their queries in natural language.

**Applying RAG framework via similarity search:**
The RAG framework is applied via similarity search utilizing the embeddings stored in the vector store. This step adds extra context from the metadata to the user's query.
Query merging with context and sending to Anthropic Claude v2.1 on Amazon Bedrock:
The user's query, along with the context obtained from the RAG framework, is merged and sent to Anthropic Claude v2.1, likely a language model or AI model for natural language understanding and generation, running on Amazon Bedrock.

**Validation of SQL Syntax using Athena:**
The generated SQL query is sent to Athena, a serverless query service provided by AWS for data stored in S3, to validate its syntax. If Athena provides an error message indicating incorrect syntax, the model uses the error text from Athena’s response.
Iteration for Correcting SQL:
If Athena identifies syntax errors, the model iterates by creating a new prompt that incorporates Athena’s response. This process continues until the SQL syntax is correct.

**Running SQL using Athena and Generating Output:**
Finally, the corrected SQL query is executed using Athena, and the output generated by the query is presented to the user via the web application's interface.

**Conclusion**
Overall, this project involves leveraging AWS services like Glue, S3, OpenSearch, and Athena, along with Gen AI models like Titan-Text-Embeddings and Anthropic Claude, to create a system 
that translates natural language queries into SQL queries and executes them to provide results to the user.
